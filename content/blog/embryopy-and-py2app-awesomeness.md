---
title: "embryo.py and py2app awesomeness"
date: "2007-11-05"
tags: ["python", "py2app"]
slug: "embryopy-and-py2app-awesomeness"

---

At work i created this script that changes permissions on our application BizarShop so that it works with the new Dashboard Widget to control the starting and stopping of of the Zope server. The permissions need to change because the controller that comes with BizarShop starts the Zope server as root, which creates the lock file (Data.fs file if it doesn't exist) with root ownership. The widget on the other hand tries to control the server via normal user permissions, but the server wont start because all the files belong to root and cannot be overwritten. For example the file Z2.pid needs to be writable, so you need to change the ownership to that of the user.<br /><br />So i created a python script that recursively goes through all directories under /Applications/Bizar Shop and changes all of the file/folder ownership to that of the owner current user. As you probably know to run a python script you either need to run explicitly via;<br /><br />python scriptname.py<br /><br />or by including a hash-bang at the start of the file to tell where python is located and then make the script executable. I thought that the user could just double click on an executable python script to run it but i was wrong.  I didn't want the user to open Terminal.app and execute it manually, this is just not user friendly. I then remembered py2app.  From the README file of py2app<br /><br /><pre><span style=";font-family:arial;font-size:85%;"  >py2app is a Python setuptools command which will allow<br />you to make standalone Mac OS X application bundles<br />and plugins from Python scripts.<br /><br />py2app is similar in purpose and design to py2exe for<br />Windows.</span><br /></pre>So using py2app i created this installer, that also includes the widget and embryo.py, oh and embryo.py is also a nice little module, from its Google Code description;<br /><br /><span style=";font-family:arial;font-size:85%;"  >embryo is a tiny Mac/Windows/Linux GUI toolkit for Python. It can be used to "boot-strap" the user into downloading a larger GUI toolkit such as PyGTK, PyGame, pyglet, PyOpenGL, etc.</span><br /><br />What i used it for is, my script checks if the folder /Applications/Bizar Shop exists and if it doesn't then it assumes that BizarShop is not installed and then shows a  message box saying BizarShop is not installed do you want to download.  But if it does find it displays a message box letting the user now know that the Widget is about to be installed and Dashboard opens up  a the install widget dialog box.<br /><br />What is so cool is that py2app is very easy to use  and it works! Combining this with embryo you can easily create a quick installation program for literally anything.<br /><br />Oh, did i mention that embryo is created by Alex Holkner  the same guy  who is working on pyglet? Well now i did. Here are the links to these modules.<br /><br /><a href="https://code.google.com/p/pyglet/">https://code.google.com/p/pyglet/</a><br /><a href="https://code.google.com/p/pyembryo/">https://code.google.com/p/pyembryo/</a><br /><a href="https://svn.pythonmac.org/py2app/py2app/trunk/doc/index.html">https://svn.pythonmac.org/py2app/py2app/trunk/doc/index.html</a>
<br /><br />
